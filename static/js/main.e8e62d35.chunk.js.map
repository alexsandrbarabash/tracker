{"version":3,"sources":["components/AddActivity/AddActivity.style.ts","components/AddActivity/AddActivity.tsx","components/Activities/Activities.style.ts","components/Activity/Activity.style.ts","components/Activity/Activity.tsx","components/common/useInterval.ts","components/Activities/Activities.tsx","components/common/useStorage.ts","App.tsx","index.tsx"],"names":["Wrapper","styled","div","AddActivity","onAdd","useState","value","setValue","handlerAdd","trim","title","active","updateTime","startTime","Date","now","time","Grid","container","direction","alignItems","xs","item","md","type","placeholder","onChange","event","target","onKeyDown","key","size","color","style","cursor","marginTop","onClick","props","index","Activity","onRemove","onActiveDisactive","width","console","log","isActive","intervalLink","setIntervalLink","timeStopwatch","setTime","activeInterval","setActiveInterval","useEffect","play","stop","clearInterval","interval","setInterval","prev","useInterval","justify","sm","length","substr","shortTitle","seconds","h","Math","floor","m","s","secondsToHms","Activities","get","JSON","parse","localStorage","getItem","create","data","setItem","stringify","activities","setActivities","ref","useRef","map","round","handlerRemove","indexRemoveElement","activitiesNew","filter","handlerActiveDisactive","indexActiveDisactive","activity","current","clientWidth","App","CssBaseline","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e8e62d35.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  \n  width: 100%;\n  border-collapse: collapse;\n  border: 2px #848484 solid;\n  padding-left: 25px;\n  padding-right: 20px;\n  border-radius: 100px;\n  \n  input {\n    display: inline-block;\n    width: 100%;\n    vertical-align: middle;\n    border: none;\n    font-size: 20px;\n    background-color: inherit;\n    color: #0d0d0d;\n    \n  }\n  textarea:focus, input:focus{\n    outline: none;\n  }\n\n  input::placeholder {\n    color: #848484;\n    opacity: 0.6;\n  }\n`;","import React, { ChangeEvent, KeyboardEvent, useState } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Wrapper } from \"./AddActivity.style\";\nimport { GoPlay } from \"react-icons/go\";\nimport { AddActivityProps } from \"../common/model\";\n\nconst AddActivity: React.FC<AddActivityProps> = ({\n  onAdd,\n}) => {\n  const [value, setValue] = useState(\"\");\n  const handlerAdd = () => {\n    if (value.trim()) {\n      onAdd({\n        title: value,\n        active: true,\n        updateTime: null,\n        startTime: Date.now(),\n        time: 0\n      });\n      setValue(\"\");\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Grid container direction=\"row\" alignItems=\"center\" xs={12}>\n        <Grid item xs={10} md={11}>\n          <input\n            type=\"text\"\n            placeholder=\"Enter track name\"\n            value={value}\n            onChange={(event: ChangeEvent<HTMLInputElement>) => {\n              setValue(event.target.value);\n            }}\n            onKeyDown={(event: KeyboardEvent<HTMLInputElement>) => {\n              if (event.key === \"Enter\") {\n                handlerAdd();\n              }\n            }}\n          />\n        </Grid>\n        <Grid item xs={2} md={1}>\n          <GoPlay\n            size=\"50px\"\n            color=\"#3faf6c\"\n            style={{ cursor: \"pointer\", marginTop: \"5px\" }}\n            onClick={() => {\n              handlerAdd();\n            }}\n          />\n        </Grid>\n      </Grid>\n    </Wrapper>\n  );\n};\n\nexport default AddActivity;\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  margin-top: 150px;\n  margin-left: 30%;\n  margin-right: 30%;\n\n  h1 {\n    font-size: 35px;\n    text-align: center;\n    margin-bottom: 50px;\n  }\n\n  @media (max-width: 1150px) {\n    margin-left: 25%;\n    margin-right: 25%;\n  }\n\n  @media (max-width: 770px) {\n    margin-left: 15%;\n    margin-right: 15%;\n  }\n\n  @media (max-width: 360px) {\n    margin-left: 10%;\n    margin-right: 10%;\n  }\n`;\n","import styled from \"styled-components\";\nimport { ActivityStyleProps } from \"../common/model\";\n\nexport const Wrapper = styled.div<ActivityStyleProps>`\n  ${(props) =>\n    props.index === 0\n      ? `margin-top: 30px; border-top:2px solid #e5e5e5;`\n      : null}\n\n  ${(props) => (props.active ? `background-color: #fdfdf6;` : null)}\n\n  border-bottom: 2px solid #e5e5e5;\n  margin-left: 5px;\n  margin-right: 5px;\n\n  padding-top: 15px;\n  padding-bottom: 15px;\n\n  font-weight: 700;\n\n  color: ${(props) => (props.active ? `#3faf6c` : `#5a5a5a`)};\n`;\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {\n  MdPauseCircleOutline,\n  MdPlayCircleOutline,\n  MdRemoveCircleOutline,\n} from \"react-icons/md\";\nimport { Wrapper } from \"./Activity.style\";\nimport { ActivityProps } from \"../common/model\";\nimport { useInterval } from \"../common/useInterval\";\n\nconst Activity: React.FC<ActivityProps> = ({\n  active,\n  index,\n  onRemove,\n  title,\n  onActiveDisactive,\n  width,\n  time,\n}) => {\n  console.log(time);\n  const { timeStopwatch, play, stop } = useInterval(active, time);\n\n  const secondsToHms = (seconds: number): string => {\n\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor((seconds % 3600) / 60);\n    const s = Math.floor((seconds % 3600) % 60);\n\n    return `${h <= 9 ? \"0\" + h : h}:${m <= 9 ? \"0\" + m : m}:${\n      s <= 9 ? \"0\" + s : s\n    }`;\n  };\n\n  const shortTitle = (title: string): string => {\n    let length = 15;\n\n    if (width >= 500) {\n      length = 30;\n    }\n\n    if (title.length >= length) {\n      return title.substr(0, length - 4) + \"...\";\n    }\n    return title;\n  };\n\n  return (\n    <Wrapper index={index} active={active}>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"space-around\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={5} sm={5}>\n          <span>{shortTitle(title)}</span>\n        </Grid>\n        <Grid item xs={2} sm={3}>\n          <time>{secondsToHms(timeStopwatch)}</time>\n        </Grid>\n        <Grid item xs={1} sm={1}>\n          {active ? (\n            <MdPauseCircleOutline\n              size=\"35px\"\n              color=\"#212120\"\n              style={{ cursor: \"pointer\" }}\n              onClick={() => {\n                stop();\n                onActiveDisactive(index);\n              }}\n            />\n          ) : (\n            <MdPlayCircleOutline\n              size=\"35px\"\n              color=\"#212120\"\n              style={{ cursor: \"pointer\" }}\n              onClick={() => {\n                play();\n                onActiveDisactive(index);\n              }}\n            />\n          )}\n        </Grid>\n        <Grid item xs={1} sm={1}>\n          <MdRemoveCircleOutline\n            size=\"35px\"\n            color=\"#d57382\"\n            style={{ cursor: \"pointer\" }}\n            onClick={() => onRemove(index)}\n          />\n        </Grid>\n      </Grid>\n    </Wrapper>\n  );\n};\n\nexport default Activity;\n","import { useEffect, useState } from \"react\";\n\nexport const useInterval = (\n  isActive: boolean = true,\n  startTime: number = 0\n) => {\n  const [intervalLink, setIntervalLink] = useState<NodeJS.Timeout | null>(null);\n  const [timeStopwatch, setTime] = useState<number>(startTime);\n  const [activeInterval, setActiveInterval] = useState(isActive);\n\n  useEffect(() => {\n    if (activeInterval) {\n      play();\n    }\n    return () => {\n      stop();\n    };\n  }, []);\n\n  const stop = () => {\n    if (intervalLink) {\n      clearInterval(intervalLink);\n      setIntervalLink(null);\n      setActiveInterval(false);\n    }\n  };\n\n  const play = () => {\n    stop(); // we stop because we do not want to contaminate the operational memory\n    const interval = setInterval(() => {\n      setTime((prev) => prev + 1);\n    }, 1000);\n    setActiveInterval(true);\n    setIntervalLink(interval);\n  };\n\n  return {\n    timeStopwatch,\n    setTime,\n    activeInterval,\n    play,\n    stop,\n  };\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport AddActivity from \"../AddActivity/AddActivity\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Wrapper } from \"./Activities.style\";\nimport Activity from \"../Activity/Activity\";\nimport { ActivitiesObject } from \"../common/model\";\nimport { useStorage } from \"../common/useStorage\";\n\nconst Activities = () => {\n  const { get, create } = useStorage();\n  const [activities, setActivities] = useState<ActivitiesObject[]>([]);\n  const ref = useRef<HTMLDivElement>(null!);\n\n  useEffect(() => {\n    let data = get();\n\n    if (data) {\n      data = data.map((item) => {\n        if (item.active) {\n          if (!item.updateTime) {\n            item.time = Math.round(Date.now() / 1000 - item.startTime! / 1000);\n          } else {\n            item.time =\n              Math.round(Date.now() / 1000 - item.updateTime! / 1000) +\n              item.time;\n            item.updateTime = Date.now();\n          }\n        }\n        return item;\n      });\n      setActivities(data);\n    }\n  }, []);\n\n  useEffect(() => {\n    create(activities);\n  }, [activities]);\n\n  const handlerAdd = (activity: ActivitiesObject) => {\n    setActivities((prev) => [...prev, activity]);\n  };\n\n  const handlerRemove = (indexRemoveElement: number) => {\n    const activitiesNew = activities.filter(\n      (item, index) => index !== indexRemoveElement\n    );\n    setActivities(activitiesNew);\n  };\n\n  const handlerActiveDisactive = (indexActiveDisactive: number) => {\n    const activitiesNew = activities.map((item, index) => {\n      if (index === indexActiveDisactive) {\n        item.active = !item.active;\n        item.updateTime = Date.now();\n      }\n      return item;\n    });\n\n    setActivities(activitiesNew);\n  };\n\n  return (\n    <Wrapper ref={ref}>\n      <Grid container direction=\"column\" justify=\"center\" alignItems=\"stretch\">\n        <Grid item xs={12}>\n          <h1>tracker</h1>\n          <AddActivity onAdd={handlerAdd} />\n          {activities.map((item, index) => (\n            <Activity\n              key={index}\n              active={item.active}\n              index={index}\n              title={item.title}\n              onRemove={handlerRemove}\n              onActiveDisactive={handlerActiveDisactive}\n              width={ref?.current?.clientWidth}\n              time={item.time}\n            />\n          ))}\n        </Grid>\n      </Grid>\n    </Wrapper>\n  );\n};\n\nexport default Activities;\n","import { ActivitiesObject } from \"./model\";\n\nexport const useStorage = () => {\n  const get = (): ActivitiesObject[] | null => {\n    return JSON.parse(localStorage.getItem(\"data\")!);\n  };\n\n  const create = (data: ActivitiesObject[]) => {\n    localStorage.setItem(\"data\", JSON.stringify(data));\n  };\n\n  return { get, create };\n};\n","import React from \"react\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport Activities from \"./components/Activities/Activities\";\n\nconst App = () => {\n  return (\n    <>\n      <CssBaseline />\n      <Activities />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}